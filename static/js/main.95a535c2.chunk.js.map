{"version":3,"sources":["lib/hooks/useResizeObserver.js","lib/hooks/useElementBounds.js","lib/hooks/useOuterClick.js","lib/utils.js","lib/hooks/useDropdownPosition.js","lib/hooks/useInput.js","lib/hooks/useDropdown.js","lib/components/container.js","lib/components/option.js","lib/components/noResults.js","lib/components/dropdown.js","lib/components/input.js","lib/components/clear.js","lib/components/autocomplete/content.js","lib/components/autocomplete/threshold.js","lib/components/autocomplete/loading.js","lib/components/autocomplete/index.js","lib/components/multiselect/selectedItem.js","lib/components/multiselect/content.js","lib/components/multiselect/index.js","mockData.js","App.js","index.js"],"names":["useResizeObserver","callback","element","observer","useRef","useEffect","current","unobserve","ResizeObserver","observe","useElementBounds","elementRef","useState","elementBounds","setElementBounds","updateElementBounds","useCallback","getBoundingClientRect","window","addEventListener","removeEventListener","useOuterClick","callbackRef","innerRef","document","handleClick","e","contains","target","filterOptions","options","search","getOptionValue","item","regExpSafeSearch","replace","reg","RegExp","filter","test","useDropdownPosition","parentBounds","dropdownMaxHeight","dropdownPosition","setDropdownPosition","dropdownBottom","bottom","innerHeight","getDropdownPosition","useInput","inputRef","focus","blur","useDropdown","value","onOptionSelect","onEscape","isDropdownOpen","setIsDropdownOpen","pointer","setPointer","openDropdown","length","closeDropdown","escapeFromDropdown","handleKeyDown","event","key","option","toggle","dropdown","isOpen","open","close","escape","position","setPosition","Container","styled","div","disabled","OptionView","span","isPointerOver","isSelected","Option","children","props","optionRef","scrollIntoView","behavior","block","inline","ref","role","title","NoResultsView","NoResults","DropdownView","maxHeight","width","height","Dropdown","content","getOptionKey","renderOptionText","onSelectOption","selectedItems","onUpdatePointer","map","index","find","onMouseEnter","onClick","stopPropagation","InputView","input","Input","placeholder","onSearchChange","onChange","ClearView","Clear","AutoCompleteContentView","ValueView","Content","renderValueText","onClear","ThresholdView","Threshold","LoadingView","Spinner","Loading","Autocomplete","threshold","isLoading","id","dropdownHeight","setSearch","thresholdContent","loadingContent","updateSearch","shouldNotSearchRequested","startsWith","handleChange","onOuterClick","handleClear","controlBounds","SearchInput","onKeyDown","SelectedItemView","RemoveItem","SelectedItem","onItemRemove","MultiselectContentView","MultiselectContent","selected","Multiselect","getSearchValue","searchResults","setSearchResults","newSearchResults","newValue","handleOptionSelect","selectedOptionIndex","findIndex","slice","handleItemSelectionRemove","selectBounds","selectedOption","name","email","App","setSelected","autocompleteOptions","setAutocompleteOptions","autocompleteValue","setAutocompleteValue","autocompleteSearch","setAutocompleteSearch","autocompleteLoading","setAutocompleteLoading","timer","setTimeout","newOptions","clearTimeout","style","margin","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95a535c2.chunk.js","sourcesContent":["import { useRef, useEffect } from 'react';\r\n\r\nconst useResizeObserver = (callback, element) => {\r\n    const observer = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const current = element && element.current;\r\n\r\n        if (observer && observer.current && current) {\r\n            observer.current.unobserve(current);\r\n        }\r\n\r\n        observer.current = new ResizeObserver(callback);\r\n        if (current) {\r\n            observer.current.observe(current);\r\n        }\r\n\r\n        return () => {\r\n            if (observer && observer.current && current) {\r\n                observer.current.unobserve(current);\r\n            }\r\n        }\r\n    }, [callback, element])\r\n}\r\n\r\nexport default useResizeObserver;","import { useCallback, useEffect, useState } from \"react\";\r\nimport useResizeObserver from './useResizeObserver';\r\n\r\nconst useElementBounds = (elementRef) => {\r\n    const [elementBounds, setElementBounds] = useState();\r\n\r\n    const updateElementBounds = useCallback(() => {\r\n        if (elementRef && elementRef.current) {\r\n            setElementBounds(elementRef.current.getBoundingClientRect());\r\n        }\r\n    }, [elementRef]);\r\n\r\n    useResizeObserver(updateElementBounds, elementRef);\r\n\r\n    useEffect((() => {\r\n        updateElementBounds();\r\n        window.addEventListener('resize', updateElementBounds);\r\n        window.addEventListener('scroll', updateElementBounds);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', updateElementBounds);\r\n            window.removeEventListener('scroll', updateElementBounds);\r\n        }\r\n    }), [updateElementBounds])\r\n\r\n    return elementBounds;\r\n}\r\n\r\nexport default useElementBounds;\r\n\r\n","// Позаимствовано из: https://stackoverflow.com/a/54292872/13467303\r\n\r\nimport { useEffect, useRef } from \"react\";\r\n\r\nconst useOuterClick = (callback) => {\r\n    const callbackRef = useRef(); // initialize mutable callback ref\r\n    const innerRef = useRef(); // returned to client, who sets the \"border\" element\r\n\r\n    // update callback on each render, so second useEffect has most recent callback\r\n    useEffect(() => { callbackRef.current = callback; });\r\n    useEffect(() => {\r\n        document.addEventListener(\"click\", handleClick);\r\n        return () => document.removeEventListener(\"click\", handleClick);\r\n\r\n        function handleClick(e) {\r\n            if (innerRef.current && callbackRef.current &&\r\n                !innerRef.current.contains(e.target)\r\n            ) {\r\n                callbackRef.current(e);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return innerRef;\r\n}\r\n\r\nexport default useOuterClick;","const getDropdownPosition = (parentBounds, dropdownMaxHeight) => {\r\n    const dropdownBottom = parentBounds.bottom + dropdownMaxHeight;\r\n    return window.innerHeight > dropdownBottom\r\n        ? 'bottom'\r\n        : 'top';\r\n}\r\n\r\nconst filterOptions = (options, search, getOptionValue = (item) => item) => {\r\n    const regExpSafeSearch = search.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n    const reg = new RegExp(regExpSafeSearch, 'i');\r\n    return options.filter(item => reg.test(getOptionValue(item)));\r\n}\r\n\r\nexport { getDropdownPosition, filterOptions };","import { useEffect, useState } from \"react\";\r\n\r\nimport { getDropdownPosition } from \"../utils\";\r\n\r\nconst useDropdownPosition = (parentBounds, dropdownMaxHeight) => {\r\n    const [dropdownPosition, setDropdownPosition] = useState();\r\n\r\n    useEffect(() => {\r\n        // при изменении позиции родительского элемента, определяем направление появления выпадающего списка\r\n        parentBounds && setDropdownPosition(getDropdownPosition(parentBounds, dropdownMaxHeight));\r\n    }, [parentBounds, dropdownMaxHeight])\r\n\r\n    return dropdownPosition;\r\n}\r\n\r\nexport default useDropdownPosition;","import { useCallback, useRef } from \"react\";\r\n\r\nconst useInput = () => {\r\n    const inputRef = useRef(null);\r\n\r\n    const focus = useCallback(() => {\r\n        if (inputRef && inputRef.current) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [])\r\n\r\n    const blur = useCallback(() => {\r\n        if (inputRef && inputRef.current) {\r\n            inputRef.current.blur();\r\n        }\r\n    }, [])\r\n\r\n    return { inputRef, focus, blur };\r\n}\r\n\r\nexport default useInput;","import { useCallback, useEffect, useState } from \"react\";\r\n\r\nconst useDropdown = ({ options, value, onOptionSelect, onEscape, search }) => {\r\n    // State\r\n\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const [pointer, setPointer] = useState(null);\r\n\r\n\r\n    // Functions\r\n\r\n    const openDropdown = useCallback(() => {\r\n        if (pointer === null && options.length) {\r\n            setPointer(0);\r\n        }\r\n        setIsDropdownOpen(true);\r\n    }, [pointer, options]);\r\n\r\n    const closeDropdown = useCallback(() => {\r\n        setIsDropdownOpen(false);\r\n        setPointer(null);\r\n    }, []);\r\n\r\n    const escapeFromDropdown = useCallback(() => {\r\n        closeDropdown();\r\n        onEscape();\r\n    }, [closeDropdown, onEscape]);\r\n\r\n    const handleKeyDown = useCallback((event) => {\r\n        switch (event.key) {\r\n            case 'ArrowUp':\r\n                if (!isDropdownOpen) {\r\n                    setPointer(options.length - 1);\r\n                    openDropdown();\r\n                } else {\r\n                    if (!options.length) return;\r\n                    if (pointer - 1 < 0) {\r\n                        setPointer(options.length - 1);\r\n                    } else {\r\n                        setPointer(pointer - 1);\r\n                    }\r\n                }\r\n                break;\r\n            case 'ArrowDown':\r\n                if (!isDropdownOpen) {\r\n                    setPointer(0);\r\n                    openDropdown();\r\n                } else {\r\n                    if (!options.length) return;\r\n                    if (pointer + 1 >= options.length) {\r\n                        setPointer(0);\r\n                    } else {\r\n                        setPointer(pointer + 1);\r\n                    }\r\n                }\r\n                break;\r\n            case 'Enter':\r\n                if (pointer === null) return;\r\n\r\n                const option = options[pointer];\r\n                onOptionSelect(option);\r\n                break;\r\n            case 'Escape':\r\n                escapeFromDropdown();\r\n                break;\r\n            case 'Tab':\r\n                escapeFromDropdown();\r\n                break;\r\n            default:\r\n                if (!isDropdownOpen) {\r\n                    openDropdown();\r\n                }\r\n                break;\r\n        }\r\n    }, [isDropdownOpen, openDropdown, escapeFromDropdown, onOptionSelect, pointer, options]);\r\n\r\n    const toggle = useCallback(() => {\r\n        if (isDropdownOpen && search.length) return;\r\n\r\n        if (isDropdownOpen) {\r\n            closeDropdown()\r\n        } else {\r\n            openDropdown()\r\n        }\r\n    }, [closeDropdown, isDropdownOpen, openDropdown, search]);\r\n\r\n\r\n    // Effects\r\n\r\n    useEffect(() => {\r\n        setPointer(options.length ? 0 : null);\r\n    }, [options]);\r\n\r\n    useEffect(() => {\r\n        closeDropdown();\r\n    }, [value, closeDropdown]);\r\n\r\n\r\n    return {\r\n        dropdown: {\r\n            isOpen: isDropdownOpen,\r\n            open: openDropdown,\r\n            close: closeDropdown,\r\n            toggle,\r\n            escape: escapeFromDropdown,\r\n        },\r\n        pointer: {\r\n            position: pointer,\r\n            setPosition: setPointer\r\n        },\r\n        handleKeyDown\r\n    }\r\n}\r\n\r\nexport default useDropdown;","//import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\nposition: relative;\r\nmin-height: calc(1.5em + .75rem + 2px) !important;\r\nwidth: 100%;\r\nmargin: 0;\r\npadding-left: .375rem;\r\npadding-right: .375rem;\r\npadding-bottom: .375rem;\r\nbox-sizing: border-box;\r\ndisplay: flex;\r\nbackground-color: #fff;\r\nborder: 1px solid #ced4da;\r\nborder-radius: .25rem;\r\ncursor: pointer;\r\n${({ dropdownPosition, isDropdownOpen }) =>\r\n        isDropdownOpen &&\r\n        `border-${dropdownPosition}-right-radius: 0;\r\n         border-${dropdownPosition}-left-radius: 0;\r\n         border-${dropdownPosition}-color: #fff;`\r\n    }\r\n${({ disabled }) => disabled\r\n        ? `pointer-events: none;\r\n           background-color: #e9ecef;`\r\n        : ''\r\n    }\r\n\r\n&:focus-within {\r\n    box-shadow: 0 0 0 0.2rem rgb(38 143 255 / 50%);\r\n}\r\n`;\r\n\r\nexport default Container;","import React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst OptionView = styled.span`\r\npadding: .375rem .75rem;\r\ndisplay: block;\r\nwhite-space: nowrap;\r\ncursor: pointer;\r\n\r\n${({ isPointerOver, isSelected }) => {\r\n        if (isPointerOver) {\r\n            return `\r\n            color: #fff;\r\n            background-color: #007bff;`\r\n        }\r\n\r\n        if (isSelected) {\r\n            return `\r\n            color: #212529;\r\n            background-color: #f2f2f2;`\r\n        }\r\n    }}\r\n`;\r\n\r\n\r\nconst Option = ({ isPointerOver, isSelected, children, ...props }) => {\r\n    const optionRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (isPointerOver && optionRef.current) {\r\n            optionRef.current.scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'nearest',\r\n                inline: 'start'\r\n            });\r\n        }\r\n    }, [isPointerOver])\r\n\r\n    return (\r\n        <OptionView\r\n            ref={optionRef}\r\n            role='option'\r\n            aria-selected={isSelected}\r\n            title={typeof children === 'string' ? children : null}\r\n            isPointerOver={isPointerOver}\r\n            isSelected={isSelected}\r\n            {...props}\r\n        >\r\n            {children}\r\n        </OptionView>\r\n    );\r\n}\r\n\r\nexport default Option;\r\nexport { OptionView };","import React from 'react';\r\nimport { OptionView } from './option';\r\nimport styled from 'styled-components';\r\n\r\nconst NoResultsView = styled(OptionView)`\r\ncursor: default;\r\n`;\r\n\r\nconst NoResults = () => {\r\n    return (\r\n        <NoResultsView>\r\n            Совпадений не найдено\r\n        </NoResultsView>\r\n    );\r\n}\r\n\r\nexport default NoResults;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Option from './option';\r\nimport NoResults from './noResults';\r\n\r\n\r\nconst DropdownView = styled.div`\r\nposition: absolute;\r\nleft: -1px;\r\npadding: 0px;\r\nmax-height: ${({ maxHeight }) => maxHeight}px;\r\nwidth: ${({ parentBounds }) => parentBounds.width}px;\r\ndisplay: flex;\r\nflex-direction: column;\r\noverflow-x: hidden;\r\nborder-radius: 0;\r\nbackground-color: white;\r\nborder: 1px solid #ced4da;\r\nbox-sizing: border-box;\r\nz-index: 19;\r\n${({ parentBounds, dropdownPosition }) =>\r\n        dropdownPosition === 'top'\r\n            ? `bottom: ${parentBounds.height}px;\r\n               border-bottom: none;\r\n               border-top-right-radius: .25rem;\r\n               border-top-left-radius: .25rem;`\r\n            : `top: ${parentBounds.height - 1}px;\r\n               border-top: none;\r\n               border-bottom-right-radius: .25rem;\r\n               border-bottom-left-radius: .25rem;`\r\n    }\r\n`;\r\n\r\n\r\nconst Dropdown = ({\r\n    options = [],\r\n    content,\r\n    getOptionKey = (option) => option,\r\n    renderOptionText = (option) => option,\r\n    onSelectOption,\r\n    selectedItems,\r\n    pointer,\r\n    onUpdatePointer,\r\n    parentBounds,\r\n    maxHeight = 350,\r\n    position\r\n}) => {\r\n    return (\r\n        <DropdownView\r\n            dropdownPosition={position}\r\n            maxHeight={maxHeight}\r\n            parentBounds={parentBounds}\r\n        >\r\n            {\r\n                content\r\n                    ? content\r\n                    :\r\n                    options.length\r\n                        ? options.map((option, index) => {\r\n                            const key = getOptionKey(option);\r\n                            const isPointerOver = index === pointer;\r\n                            const isSelected = !!(selectedItems && selectedItems.find(item => getOptionKey(item) === key));\r\n                            const onClick = (event) => {\r\n                                event.stopPropagation();\r\n                                onSelectOption(option);\r\n                            }\r\n\r\n                            return (\r\n                                <Option key={key}\r\n                                    isPointerOver={isPointerOver}\r\n                                    isSelected={isSelected}\r\n                                    onMouseEnter={() => onUpdatePointer(index)}\r\n                                    onClick={onClick}\r\n                                >\r\n                                    {renderOptionText(option)}\r\n                                </Option>\r\n                            )\r\n                        })\r\n                        : <NoResults />\r\n            }\r\n        </DropdownView>\r\n    );\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst InputView = styled.input`\r\nflex-grow: 1;\r\nmargin-top: calc(.375rem - 2px);\r\npadding: 0;\r\nbox-sizing: border-box;\r\nborder: none;\r\nfont-family: inherit;\r\nfont-size: inherit;\r\nbackground-color: inherit;\r\nline-height: inherit;\r\ncolor: #495057;\r\n\r\n&:focus {\r\n    outline: 0;\r\n}\r\n`;\r\n\r\nconst Input = ({ inputRef, placeholder, value, onSearchChange, disabled }) => {\r\n    const onChange = (event) => onSearchChange(event.target.value);\r\n\r\n    return (\r\n        <InputView\r\n            ref={inputRef}\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={onChange}\r\n            disabled={disabled}\r\n        />\r\n    );\r\n}\r\n\r\nexport default Input;","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst ClearView = styled.span`\r\npadding-right: 3px;\r\npadding-left: 3px;\r\nfont-weight: 700;\r\nfont-size: 1.25rem;\r\ncolor: #bdc6d0;\r\nalign-self: center;\r\n\r\n&:hover {\r\n    color: #343a40;\r\n}\r\n`;\r\n\r\nconst Clear = ({ onClick }) => {\r\n    return (\r\n        <ClearView onClick={onClick} title=\"Очистить\">\r\n            &times;\r\n        </ClearView>\r\n    );\r\n}\r\n\r\nexport default Clear;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Clear from '../clear';\r\n\r\nconst AutoCompleteContentView = styled.div`\r\ndisplay: flex;\r\nflex: 1;\r\nalign-items: flex-end;\r\n`\r\n\r\nconst ValueView = styled.span`\r\nflex: 1;\r\ncolor: #495057;\r\n`\r\n\r\nconst Content = ({ value, renderValueText, input, onClear }) => {\r\n    return (\r\n        <AutoCompleteContentView>\r\n            {\r\n                value\r\n                    ? <>\r\n                        <ValueView>\r\n                            {renderValueText(value)}\r\n                        </ValueView>\r\n                        <Clear onClick={onClear} />\r\n                    </>\r\n                    : input\r\n            }\r\n        </AutoCompleteContentView>\r\n    );\r\n}\r\n\r\nexport default Content;","import React from 'react';\r\nimport { OptionView } from '../option';\r\nimport styled from 'styled-components';\r\n\r\nconst ThresholdView = styled(OptionView)`\r\ncursor: default;\r\n`;\r\n\r\nconst Threshold = () => {\r\n    return (\r\n        <ThresholdView>\r\n            Продолжайте ввод, чтобы начался поиск\r\n        </ThresholdView>\r\n    );\r\n}\r\n\r\nexport default Threshold;","import React from 'react';\r\nimport { OptionView } from '../option';\r\nimport styled from 'styled-components';\r\n\r\nconst LoadingView = styled(OptionView)`\r\ncursor: default;\r\ntext-align: center;\r\n`;\r\n\r\nconst Spinner = styled.span`\r\n@keyframes spinner-border {\r\n  to { transform: rotate(360deg); }\r\n}\r\ndisplay: inline-block;\r\nwidth: 1rem;\r\nheight: 1rem;\r\nvertical-align: text-bottom;\r\nborder: .25em solid currentColor;\r\nborder-right-color: transparent;\r\nborder-radius: 50%;\r\nborder-width: .2em;\r\nanimation: spinner-border .75s linear infinite;\r\ncolor: #6c757d!important;\r\n`;\r\n\r\nconst Loading = () => {\r\n    return (\r\n        <LoadingView>\r\n            <Spinner />\r\n        </LoadingView>\r\n    );\r\n}\r\n\r\nexport default Loading;","import React, { useState, useCallback } from 'react';\r\n\r\nimport useElementBounds from '../../hooks/useElementBounds';\r\nimport useOuterClick from '../../hooks/useOuterClick';\r\nimport useDropdownPosition from '../../hooks/useDropdownPosition'\r\nimport useInput from '../../hooks/useInput';\r\nimport useDropdown from '../../hooks/useDropdown';\r\nimport Container from '../container';\r\nimport Dropdown from '../dropdown';\r\nimport Input from '../input';\r\nimport Content from './content';\r\nimport Threshold from './threshold';\r\nimport Loading from './loading';\r\n\r\n\r\nconst Autocomplete = ({\r\n    options = [],\r\n    value = null,\r\n    onChange = () => undefined,\r\n    onSearchChange = () => undefined,\r\n    threshold = 3,\r\n    isLoading = false,\r\n    getOptionKey = (option) => option.id ?? option,\r\n    renderOptionText = (option) => option,\r\n    renderValueText = (option) => renderOptionText(option),\r\n    dropdownHeight = 300,\r\n    placeholder = 'Начните ввод для поиска',\r\n    disabled = false,\r\n    ...props\r\n}) => {\r\n    const [search, setSearch] = useState('');\r\n    const { inputRef, focus, blur } = useInput();\r\n\r\n    const thresholdContent = search.length <= threshold ? <Threshold /> : null;\r\n    const loadingContent = isLoading ? <Loading /> : null;\r\n\r\n    const updateSearch = useCallback((value) => {\r\n        // не следует повторять поиск, если:\r\n        const shouldNotSearchRequested =\r\n            // запрос короче порогового значения\r\n            value.length <= threshold\r\n            // либо, если запрос продолжает предыдущий запрос, завершившийся неудачно\r\n            || (value.length > threshold + 1\r\n                && !isLoading\r\n                && options.length === 0\r\n                && value.startsWith(search));\r\n\r\n        setSearch(value);\r\n\r\n        if (shouldNotSearchRequested) return;\r\n        onSearchChange(value);\r\n    }, [onSearchChange, isLoading, options, threshold, search]);\r\n\r\n    const handleChange = useCallback((value) => {\r\n        onChange(value);\r\n        updateSearch('');\r\n    }, [onChange, updateSearch]);\r\n\r\n    const { dropdown, pointer, handleKeyDown } = useDropdown({\r\n        onEscape: () => {\r\n            blur();\r\n            updateSearch('');\r\n        },\r\n        onOptionSelect: handleChange,\r\n        options: options,\r\n        search,\r\n        value\r\n    });\r\n\r\n    const onOuterClick = useCallback(() => {\r\n        dropdown.escape();\r\n    }, [dropdown]);\r\n\r\n    const onClick = useCallback(() => {\r\n        if (options.length && search.length > threshold) {\r\n            dropdown.toggle();\r\n        }\r\n        focus();\r\n    }, [focus, dropdown, options, search, threshold]);\r\n\r\n    const handleClear = useCallback(() => {\r\n        handleChange(null);\r\n    }, [handleChange]);\r\n\r\n\r\n    const innerRef = useOuterClick(onOuterClick);\r\n    const controlBounds = useElementBounds(innerRef);\r\n    const dropdownPosition = useDropdownPosition(controlBounds, dropdownHeight);\r\n\r\n\r\n    const SearchInput = <Input\r\n        inputRef={inputRef}\r\n        placeholder={value ? null : placeholder}\r\n        value={search}\r\n        onSearchChange={updateSearch}\r\n        disabled={disabled}\r\n    />\r\n\r\n    return (\r\n        <Container\r\n            ref={innerRef}\r\n            dropdownPosition={dropdownPosition}\r\n            isDropdownOpen={dropdown.isOpen}\r\n            onKeyDown={handleKeyDown}\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            {...props}\r\n        >\r\n            <Content\r\n                value={value}\r\n                renderValueText={renderValueText}\r\n                input={SearchInput}\r\n                onClear={handleClear}\r\n            />\r\n            {\r\n                dropdown.isOpen && !disabled\r\n                    ? <Dropdown\r\n                        content={thresholdContent || loadingContent || null}\r\n                        options={options}\r\n                        getOptionKey={getOptionKey}\r\n                        renderOptionText={renderOptionText}\r\n                        onSelectOption={handleChange}\r\n                        pointer={pointer.position}\r\n                        onUpdatePointer={pointer.setPosition}\r\n                        parentBounds={controlBounds}\r\n                        maxHeight={300}\r\n                        position={dropdownPosition}\r\n                    />\r\n                    : null\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Autocomplete;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SelectedItemView = styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\npadding: 0;\r\npadding-right: .75rem;\r\nmargin-top: calc(.375rem - 2px);\r\nmargin-right: .375rem;\r\ncolor: #495057;\r\nfont-size: 1rem;\r\ncursor: pointer;\r\nborder: 1px solid #bdc6d0;\r\nborder-radius: .2rem;\r\n`;\r\n\r\nconst RemoveItem = styled.span`\r\npadding-right: 3px;\r\npadding-left: 3px;\r\nmargin-right: 1px;\r\nmargin-left: 3px;\r\nfont-weight: 700;\r\ncolor: #bdc6d0;\r\n\r\n&:hover {\r\n    color: #343a40;\r\n}\r\n`;\r\n\r\nconst SelectedItem = ({ onItemRemove, children }) => {\r\n    const onClick = (event) => {\r\n        event.stopPropagation();\r\n        onItemRemove();\r\n    }\r\n\r\n    return (\r\n        <SelectedItemView>\r\n            <RemoveItem onClick={onClick}>\r\n                &times;\r\n            </RemoveItem>\r\n            {children}\r\n        </SelectedItemView>\r\n    );\r\n}\r\n\r\nexport default SelectedItem;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport SelectedItem from './selectedItem';\r\n\r\nconst MultiselectContentView = styled.div`\r\ndisplay: flex;\r\nflex-wrap: wrap;\r\nflex: 1;\r\n`;\r\n\r\nconst MultiselectContent = ({ selected, getOptionKey, renderValueText, onItemRemove, input }) => {\r\n    return (\r\n        <MultiselectContentView>\r\n            {\r\n                selected.map((option) => {\r\n                    const handleRemoveItem = () => onItemRemove(option);\r\n\r\n                    return (\r\n                        <SelectedItem key={getOptionKey(option)} onItemRemove={handleRemoveItem}>\r\n                            {renderValueText(option)}\r\n                        </SelectedItem>\r\n                    )\r\n                })\r\n            }\r\n            {input}\r\n        </MultiselectContentView>\r\n    );\r\n}\r\n\r\nexport default MultiselectContent;","import React, { useState, useCallback } from 'react';\r\n\r\nimport useElementBounds from '../../hooks/useElementBounds';\r\nimport useOuterClick from '../../hooks/useOuterClick';\r\nimport useDropdownPosition from '../../hooks/useDropdownPosition'\r\nimport useInput from '../../hooks/useInput';\r\nimport useDropdown from '../../hooks/useDropdown';\r\nimport Container from '../container';\r\nimport Content from './content';\r\nimport Dropdown from '../dropdown';\r\nimport Input from '../input';\r\nimport { filterOptions } from '../../utils';\r\n\r\n\r\nconst Multiselect = ({\r\n    options = [],\r\n    value = [], // состояние выбранных элементов должно управляться родительским компонентом\r\n    onChange = () => undefined,\r\n    getOptionKey = (option) => option.id ?? option,\r\n    renderOptionText = (option) => option,\r\n    renderValueText = (option) => renderOptionText(option),\r\n    dropdownHeight = 300,\r\n    placeholder = 'Начните ввод для поиска',\r\n    disabled = false,\r\n    getSearchValue = (option) => renderOptionText(option),\r\n    ...props\r\n}) => {\r\n    const [search, setSearch] = useState('');\r\n    const [searchResults, setSearchResults] = useState(options);\r\n\r\n    const { inputRef, focus, blur } = useInput();\r\n\r\n    const updateSearch = useCallback((value) => {\r\n        setSearch(value);\r\n        const newSearchResults = value === ''\r\n            ? options\r\n            : filterOptions(options, value, getSearchValue);\r\n        setSearchResults(newSearchResults);\r\n    }, [options, getSearchValue])\r\n\r\n    const handleChange = useCallback((newValue) => {\r\n        onChange(newValue);\r\n        updateSearch('');\r\n        focus();\r\n    }, [focus, onChange, updateSearch])\r\n\r\n    const handleOptionSelect = useCallback((option) => {\r\n        const selectedOptionIndex = value.findIndex(item => getOptionKey(item) === getOptionKey(option))\r\n        let newValue;\r\n\r\n        if (selectedOptionIndex !== -1) {\r\n            // если выбираемая опция уже была выбрана ранее, исключаем ее из выбора\r\n            newValue = [\r\n                ...value.slice(0, selectedOptionIndex),\r\n                ...value.slice(selectedOptionIndex + 1)\r\n            ]\r\n        } else {\r\n            newValue = [...value, option];\r\n        }\r\n        handleChange(newValue);\r\n    }, [value, getOptionKey, handleChange])\r\n\r\n    const handleItemSelectionRemove = useCallback((item) => {\r\n        const newValue = value.filter(selected => getOptionKey(selected) !== getOptionKey(item));\r\n        handleChange(newValue);\r\n    }, [value, getOptionKey, handleChange])\r\n\r\n    const { dropdown, pointer, handleKeyDown } = useDropdown({\r\n        onEscape: () => {\r\n            blur();\r\n            updateSearch('');\r\n        },\r\n        onOptionSelect: handleOptionSelect,\r\n        options: searchResults,\r\n        search,\r\n        value\r\n    });\r\n\r\n    const onOuterClick = useCallback(() => {\r\n        dropdown.escape();\r\n    }, [dropdown])\r\n\r\n    const onClick = useCallback(() => {\r\n        dropdown.toggle();\r\n        focus();\r\n    }, [dropdown, focus])\r\n\r\n\r\n    const innerRef = useOuterClick(onOuterClick);\r\n    const selectBounds = useElementBounds(innerRef);\r\n    const dropdownPosition = useDropdownPosition(selectBounds, dropdownHeight);\r\n\r\n\r\n    const SearchInput = <Input\r\n        inputRef={inputRef}\r\n        placeholder={value.length ? null : placeholder}\r\n        value={search}\r\n        onSearchChange={updateSearch}\r\n        disabled={disabled}\r\n    />\r\n\r\n    return (\r\n        <Container\r\n            ref={innerRef}\r\n            dropdownPosition={dropdownPosition}\r\n            isDropdownOpen={dropdown.isOpen}\r\n            onKeyDown={handleKeyDown}\r\n            onClick={onClick}\r\n            disabled={disabled}\r\n            {...props}\r\n        >\r\n            <Content\r\n                selected={value}\r\n                getOptionKey={getOptionKey}\r\n                renderValueText={renderValueText}\r\n                onItemRemove={handleItemSelectionRemove}\r\n                input={SearchInput}\r\n            />\r\n            {\r\n                dropdown.isOpen && !disabled\r\n                    ? <Dropdown\r\n                        options={searchResults}\r\n                        getOptionKey={getOptionKey}\r\n                        renderOptionText={renderOptionText}\r\n                        onSelectOption={handleOptionSelect}\r\n                        pointer={pointer.position}\r\n                        onUpdatePointer={pointer.setPosition}\r\n                        selectedItems={value}\r\n                        parentBounds={selectBounds}\r\n                        maxHeight={300}\r\n                        position={dropdownPosition}\r\n                    />\r\n                    : null\r\n            }\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Multiselect;","const selectedOption = {\r\n    id: \"6102f571e997d10c5815883f\",\r\n    name: \"Mckay Frye\",\r\n    email: \"mckayfrye@google.com\"\r\n};\r\n\r\nconst options = [\r\n    { ...selectedOption },\r\n    {\r\n        id: \"6102f571926af4d952c415d3\",\r\n        name: \"Elinor Fisher\",\r\n        email: \"elinorfisher@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f5718cad5a01e82643be\",\r\n        name: \"Ball Clements\",\r\n        email: \"ballclements@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571bcdec51c437ca10b\",\r\n        name: \"Bessie Brown\",\r\n        email: \"bessiebrown@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571b1511cc6e5c85cdc\",\r\n        name: \"Gwendolyn Levine\",\r\n        email: \"gwendolynlevine@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571091863e8bc0b4837\",\r\n        name: \"Kristin Fisher\",\r\n        email: \"kristinfisher@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f57186ba246fa97fac0b\",\r\n        name: \"Jenna Walter\",\r\n        email: \"jennawalter@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571375d59ef764ff9cf\",\r\n        name: \"Mcbride Velasquez\",\r\n        email: \"mcbridevelasquez@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571683ae4c61fd3799d\",\r\n        name: \"Mccormick Cooke\",\r\n        email: \"mccormickcooke@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f5711196471b7f008eea\",\r\n        name: \"Richmond Sloan\",\r\n        email: \"richmondsloan@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f57191f0bec27180f87f\",\r\n        name: \"Huff Fisher\",\r\n        email: \"hufffisher@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571386a2811cddd43bf\",\r\n        name: \"Collins Beasley\",\r\n        email: \"collinsbeasley@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f571f341055c670b9c4c\",\r\n        name: \"Britt Lloyd\",\r\n        email: \"brittlloyd@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f5712abd397431f69836\",\r\n        name: \"Daphne Dalton\",\r\n        email: \"daphnedalton@google.com\"\r\n    },\r\n    {\r\n        id: \"6102f5710677f42b86a69031\",\r\n        name: \"Audra Townsend\",\r\n        email: \"audratownsend@google.com\"\r\n    }\r\n]\r\n\r\nexport { selectedOption, options };","import React, { useEffect, useState } from 'react';\r\n\r\nimport { Autocomplete, Multiselect } from './lib/components';\r\nimport { filterOptions } from './lib/utils';\r\nimport { selectedOption, options } from './mockData'\r\n\r\n\r\nconst autocompleteThreshold = 3;\r\n\r\nconst App = () => {\r\n  const [selected, setSelected] = useState([selectedOption]);\r\n\r\n  const [autocompleteOptions, setAutocompleteOptions] = useState([]);\r\n  const [autocompleteValue, setAutocompleteValue] = useState(null);\r\n  const [autocompleteSearch, setAutocompleteSearch] = useState(null);\r\n  const [autocompleteLoading, setAutocompleteLoading] = useState(false);\r\n\r\n  const getSearchValue = (option) => option.name;\r\n  const getOptionKey = (option) => option.id;\r\n  const renderOptionText = (option) => {\r\n    return (\r\n      <span>\r\n        <b>{option.name}</b> <br />\r\n        {option.email}\r\n      </span>\r\n    )\r\n  };\r\n  const renderValueText = (option) => option.name;\r\n\r\n  useEffect(() => {\r\n    if (autocompleteSearch === null) return;\r\n    if (autocompleteSearch.length <= autocompleteThreshold) return;\r\n\r\n    setAutocompleteLoading(true);\r\n    // здесь может быть обращение к api\r\n    const timer = setTimeout(() => {\r\n      const newOptions = filterOptions(options, autocompleteSearch, getSearchValue);\r\n      setAutocompleteOptions(newOptions);\r\n      setAutocompleteLoading(false);\r\n    }, 500)\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [autocompleteSearch])\r\n\r\n\r\n  return (\r\n    <div style={{ width: '600px', margin: '50px auto' }}>\r\n      <h1>React dropdown components</h1>\r\n      <div>\r\n        <h2>Multiselect</h2>\r\n        <Multiselect\r\n          value={selected}\r\n          options={options}\r\n          onChange={setSelected}\r\n          getOptionKey={getOptionKey}\r\n          renderOptionText={renderOptionText}\r\n          renderValueText={renderValueText}\r\n          getSearchValue={getSearchValue}\r\n          placeholder='Type to search'\r\n        />\r\n      </div>\r\n      <div>\r\n        <h2>Autocomplete</h2>\r\n        <Autocomplete\r\n          options={autocompleteOptions}\r\n          value={autocompleteValue}\r\n          onChange={setAutocompleteValue}\r\n          onSearchChange={setAutocompleteSearch}\r\n          isLoading={autocompleteLoading}\r\n          threshold={autocompleteThreshold}\r\n          getOptionKey={getOptionKey}\r\n          renderOptionText={renderOptionText}\r\n          placeholder='Type \"fish\"'\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}